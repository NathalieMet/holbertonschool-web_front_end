<!DOCTYPE html>
<html lang="en" dir="ltr">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
	<title></title>
	<script>
		document.addEventListener('DOMContentLoaded', (event) => {
			const button_1 = document.querySelector('.button-1');
			button_1.addEventListener('click', setCookies);

			const button_2 = document.querySelector('.button-2');
			button_2.addEventListener('click', showCookies);

			function setCookies() {
				const date = new Date();
				date.setTime(date.getTime() + (10 * 24 * 60 * 60 * 1000));
				const expires = "expires=" + date.toUTCString();

				const first_name = document.querySelector('#firstname').value;
				document.cookie = `firstname=${first_name}; ${expires}; path=/`;

				const email = document.querySelector('#email').value;
				document.cookie = `email=${email}; ${expires}; path=/`;
			}

			function getCookie(name) {
				let cname = name + "=";
				let decodedCookie = decodeURIComponent(document.cookie);
				let ca = decodedCookie.split(';');
				for (let i = 0; i < ca.length; i++) {
					let c = ca[i];
					while (c.charAt(0) == ' ') {
						c = c.substring(1);
					}
					if (c.indexOf(cname) == 0) {
						return c.substring(cname.length, c.length);
					}
				}
				return "";
			}

			function showCookies() {
				const email = getCookie('email');
				const firstname = getCookie('firstname');

				const paragraph = document.createElement('p');
				const textNode = document.createTextNode(`Email: ${email} - Firstname: ${firstname}`);

				paragraph.appendChild(textNode);
				document.body.appendChild(paragraph);
			}
		});
	</script>
</head>

<body>
	<h1>Login to the website</h1>
	<input type="text" id="firstname" name="firstname" placeholder="First Name">
	<input type="text" id="email" name="email" placeholder="Email">
	<button class="button-1">Log me in</button>
	<h1>Cookies</h1>
	<button class="button-2">Show the cookies</button>
</body>

</html>
